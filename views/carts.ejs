<script>
  const mongoose = require('mongoose');
//mongoose.connect(process.env.MONGODB_URI, { useNewUrlParser: true, useUnifiedTopology: true });
mongoose.set("strictQuery", false);
mongoose.connect(process.env.MONGO_URI);
const db = mongoose.connection;

// Retrieve data from MongoDB
const collection = db.collection('recipes');
collection.find({}).toArray((err, data) => {
  if (err) {
    console.error('Failed to retrieve data from MongoDB:', err);
    return;
  }

  // Render the .ejs file with the retrieved data
  res.render('viewcart.ejs', { data });
});
</script>
